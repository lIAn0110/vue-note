<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>自定义私有过滤器</title>
  <script src="./lib/vue.js"></script>
</head>
<body>
  <div id="test">
      <p>{{msg | filterMsg}}</p>
  </div>

  <script>
    var vm = new Vue({
      el: '#test',
      data() {
        return {
          msg: '一个单纯的小孩，一个单纯的世界，一行单纯的代码。'
        }
      },
      filters: {
        filterMsg(value) {
          // 参数value是当前要过滤的数据源
          console.log(value);
          // 只能替换一个，匹配到的第一个
          // return value.replace('单纯', '邪恶');
          // return value.replaceAll('单纯', '邪恶'); // 报错：replaceAll is not a function.这是java中的方法
          // 这种方法也只能替换匹配到的第一个
          // return value.replace(/单纯/, '邪恶');
          return value.replace(/单纯/g, '邪恶');
        }
      }
    });
  </script>
</body>
</html>